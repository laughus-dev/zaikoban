<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Icon Generator</title>
</head>
<body>
    <h1>在庫番アイコン生成ツール</h1>
    <p>このHTMLファイルを開いて、生成されたアイコンを右クリック→「画像を保存」してください。</p>
    
    <h2>192x192 アイコン</h2>
    <canvas id="canvas192" width="192" height="192"></canvas>
    
    <h2>512x512 アイコン</h2>
    <canvas id="canvas512" width="512" height="512"></canvas>
    
    <script>
        const svgString = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="256" height="256">
    <defs>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1"/>
            <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1"/>
        </linearGradient>
        <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1"/>
            <stop offset="100%" style="stop-color:#818cf8;stop-opacity:1"/>
        </linearGradient>
    </defs>
    <circle cx="128" cy="128" r="120" fill="url(#grad1)" opacity="0.1"/>
    <g transform="translate(128, 128)">
        <path d="M -60 -30 L 0 -60 L 60 -30 L 60 30 L 0 60 L -60 30 Z"
              fill="url(#grad1)"
              stroke="#4c1d95"
              stroke-width="2"/>
        <path d="M -60 -30 L 0 -60 L 60 -30 L 0 0 Z"
              fill="url(#grad2)"
              opacity="0.9"/>
        <path d="M 0 0 L 60 -30 L 60 30 L 0 60 Z"
              fill="url(#grad1)"
              opacity="0.8"/>
        <path d="M -60 -30 L 0 0 L 0 60 L -60 30 Z"
              fill="url(#grad1)"
              opacity="0.6"/>
        <rect x="-35" y="-5" width="70" height="20"
              fill="#fbbf24"
              opacity="0.8"
              transform="skewY(-15)"/>
        <g transform="scale(0.8)">
            <path d="M -15 -35 L 15 -35 M 0 -35 L 0 -20 M -20 -20 L 20 -20 M -20 -20 L -20 0 M 20 -20 L 20 0 M -25 0 L 25 0"
                  stroke="#6366f1"
                  stroke-width="3"
                  stroke-linecap="round"
                  fill="none"
                  opacity="0.3"/>
        </g>
    </g>
    <g opacity="0.5">
        <rect x="40" y="180" width="25" height="25" fill="url(#grad2)" transform="rotate(15 52.5 192.5)"/>
        <rect x="180" y="50" width="20" height="20" fill="url(#grad2)" transform="rotate(30 190 60)"/>
        <rect x="190" y="180" width="18" height="18" fill="url(#grad1)" transform="rotate(45 199 189)"/>
    </g>
</svg>`;
        
        function drawIcon(canvasId, size) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            
            const img = new Image();
            const blob = new Blob([svgString], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(blob);
            
            img.onload = function() {
                ctx.drawImage(img, 0, 0, size, size);
                URL.revokeObjectURL(url);
                
                // 画像をダウンロード用リンクに変換
                canvas.toBlob(function(blob) {
                    const a = document.createElement('a');
                    a.href = URL.createObjectURL(blob);
                    a.download = `icon-${size}.png`;
                    a.textContent = `icon-${size}.pngをダウンロード`;
                    a.style.display = 'block';
                    a.style.marginTop = '10px';
                    canvas.parentNode.appendChild(a);
                });
            };
            
            img.src = url;
        }
        
        drawIcon('canvas192', 192);
        drawIcon('canvas512', 512);
    </script>
</body>
</html>